{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dms_2\\\\Documents\\\\AddMustard-repos\\\\MAT-repo\\\\MAT\\\\client\\\\src\\\\Areas\\\\DetailsArea\\\\DetailsArea.js\",\n  _s = $RefreshSig$();\n/*\r\n\tProject : Materiom\r\n\tAuthor(s) : David Charles - AddMustard\r\n*/\n\n//imports\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport './DetailsArea.scss';\nimport { materialDetailsDataStructure } from \"../../DataStructures/material\";\nimport Button from '../../Components/Button/Button';\nimport OptionInput from '../../Components/OptionInput/OptionInput';\n\n//exports\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DetailsArea(props) {\n  _s();\n  //properties\n  const customClass = props.componentData.customClass; //string\n  const details = props.componentData.details || materialDetailsDataStructure; //obj\n  const updateDetails = props.componentData.updateDetails; //any\n\n  //states\n  var [materialDetails, setMaterialDetails] = useState(details); //obj\n  var [materialAuthors, setMaterialAuthors] = useState(materialDetails.authors); //Array<string>\n  var [materialDescription, setMaterialDescription] = useState(materialDetails.description); //string\n  var [materialLicense, setMaterialLicense] = useState(materialDetails.license); //string\n  var [materialSources, setMaterialSources] = useState(materialDetails.sources); //Array<string>\n  var [materialDifficulty, setMaterialDifficulty] = useState(materialDetails.difficulty); //number\n  var [materialPrepTime, setMaterialPrepTime] = useState(materialDetails.prepTime); //number\n  var [materialTools, setMaterialTools] = useState(materialDetails.tools); //Array<obj>\n  var [materialProcesses, setMaterialProcesses] = useState(materialDetails.processes); //Array<obj>\n\n  var [tools, setTools] = useState([]); //Array<obj>\n  var [processes, setProcesses] = useState([]); //Array<obj>\n\n  //refs\n  const descriptionRef = useRef(); //any\n  const authorsRef = useRef(); //any\n  const licenseRef = useRef(); //any\n  const sourcesRef = useRef(); //any\n  const difficultyRef = useRef(); //any\n  const prepTimeRef = useRef(); //any\n\n  //functions\n  const getAuthors = () => {\n    const authorInputArray = authorsRef.current.getElementsByTagName(\"INPUT\");\n    var newAuthors = [];\n    for (var a = 0; a < authorInputArray.length; a++) {\n      const inputvalue = authorInputArray[a].value;\n      newAuthors.push(inputvalue);\n    }\n    return newAuthors;\n  };\n  const getSources = () => {\n    const sourcesNameInputArray = sourcesRef.current.getElementsByClassName(\"name\");\n    const sourcesSourceInputArray = sourcesRef.current.getElementsByClassName(\"source\");\n    var newSources = [];\n    for (var a = 0; a < sourcesNameInputArray.length; a++) {\n      const nameValue = sourcesNameInputArray[a].value;\n      const sourceValue = sourcesSourceInputArray[a].value;\n      const newSource = {\n        name: nameValue,\n        source: sourceValue\n      };\n      newSources.push(newSource);\n    }\n    return newSources;\n  };\n  const handleDetailsChange = () => {\n    var newDetails = materialDetailsDataStructure;\n    newDetails.description = descriptionRef.current.value;\n    newDetails.authors = getAuthors();\n    newDetails.license = licenseRef.current.value;\n    newDetails.sources = getSources();\n    newDetails.difficulty = difficultyRef.current.value;\n    newDetails.prepTime = prepTimeRef.current.value;\n    newDetails.tools = materialTools;\n    newDetails.processes = materialProcesses;\n    console.log(newDetails);\n    if (true) {\n      //font-end validation here\n      setMaterialDetails(newDetails);\n      //updateDetails(newDetails);\n    } else {\n      //validation error handler here\n    }\n  };\n  const handleDescriptionChange = () => {\n    const newDescription = descriptionRef.current.value;\n    if (true) {\n      //font-end validation here\n      const newDetails = materialDetails;\n      newDetails.description = newDescription;\n      setMaterialDescription(newDescription);\n      setMaterialDetails(newDetails);\n      handleDetailsChange(newDetails);\n    } else {\n      //validation error handler here\n    }\n  };\n  const handleAuthorChange = event => {\n    const elmt = event.currentTarget || event.target;\n    if (elmt) {\n      const elmtValue = elmt.value; //string\n\n      if (true) {\n        //font-end validation here\n        const authorArray = [...materialAuthors]; //Array<string>\n        const elmtIndex = elmt.getAttribute(\"index\"); //number\n\n        authorArray[elmtIndex] = elmtValue;\n        //setMaterialAuthors(authorArray);\n      } else {\n        //validation error handler here\n      }\n    }\n  };\n  const handleAddAuthor = () => {\n    var authorArray = [...materialAuthors]; //Arra<string>\n\n    if (authorArray[authorArray.length - 1]) {\n      authorArray.push(\"\");\n      setMaterialAuthors(authorArray);\n    } else {\n      //will not add Author\n    }\n  };\n  // const handleLicenseChange = () => {\n  //     const newLicense = licenseRef.current.value;\n\n  //     if (true) { //font-end validation here\n  //         setMaterialLicense(newLicense);\n  //         handleDetailsChange();\n\n  //     } else {\n  //         //validation error handler here\n  //     }\n  // };\n  const handleSourceChange = event => {\n    const elmt = event.currentTarget || event.target;\n    if (elmt) {\n      const elmtParent = elmt.parentElement;\n      if (elmtParent.classList.contains(\"sourceInputs\")) {\n        const inputs = elmtParent.getElementsByTagName(\"INPUT\");\n        const inputValues = {\n          //obj\n          name: inputs[0].value,\n          source: inputs[1].value\n        };\n        if (true) {\n          //font-end validation here\n          const sourceArray = [...materialSources]; //Array<obj>\n          const elmtIndex = elmtParent.getAttribute(\"index\"); //number\n\n          sourceArray[elmtIndex] = inputValues;\n          setMaterialSources(sourceArray);\n          handleDetailsChange();\n        } else {\n          //validation error handler here\n        }\n      }\n    }\n  };\n  const handleAddSource = () => {\n    var sourceArray = [...materialSources]; //Arra<string>\n\n    if (sourceArray[sourceArray.length - 1].name && sourceArray[sourceArray.length - 1].source) {\n      sourceArray.push({\n        name: \"\",\n        source: \"\"\n      });\n      setMaterialSources(sourceArray);\n    } else {\n      //will not add Author\n    }\n  };\n  const handleDifficultyChange = event => {\n    const elmt = event.currentTarget || event.target; //any\n\n    if (elmt) {\n      const elmtIndex = parseInt(elmt.getAttribute(\"index\")); //number\n\n      if (true) {\n        //handle validation here\n        setMaterialDifficulty(elmtIndex);\n      } else {\n        //do error function\n      }\n    }\n  };\n  // const handlePrepTimeChange = () => {\n  //     const newMaterialPrepTime = prepTimeRef.current.value;\n\n  //     if (true) { //font-end validation here\n  //         setMaterialPrepTime(newMaterialPrepTime);\n  //         handleDetailsChange();\n\n  //     } else {\n  //         //validation error handler here\n  //     }\n  // };\n  const handleToolChange = dataObj => {\n    if (dataObj) {\n      const dataIndex = dataObj.index;\n      if (materialTools[dataIndex]) {\n        const newMaterialTools = materialTools; //Array<obj>\n        const newTool = {\n          //obj\n          name: dataObj.name,\n          ref: dataObj.ref,\n          description: dataObj.description,\n          link: dataObj.link\n        };\n        newMaterialTools[dataIndex] = newTool;\n        setMaterialTools(newMaterialTools);\n        handleDetailsChange();\n      }\n    }\n  };\n  const handleAddTool = () => {\n    var toolsArray = [...materialTools]; //Arra<obj>\n    var tool = {\n      name: \"\",\n      ref: \"\",\n      description: \"\",\n      link: \"\"\n    };\n    if (toolsArray[toolsArray.length - 1].ref) {\n      toolsArray.push(tool);\n      setMaterialTools(toolsArray);\n    } else {\n      //will not add Tool\n    }\n  };\n  const handleProcessChange = dataObj => {\n    if (dataObj) {\n      const dataIndex = dataObj.index;\n      if (materialProcesses[dataIndex]) {\n        const newMaterialProcesses = materialProcesses; //Array<obj>\n        const newProcess = {\n          //obj\n          name: dataObj.name,\n          ref: dataObj.ref,\n          description: dataObj.description,\n          link: dataObj.link\n        };\n        newMaterialProcesses[dataIndex] = newProcess;\n        setMaterialProcesses(newMaterialProcesses);\n        handleDetailsChange();\n      }\n    }\n  };\n  const handleAddProcess = () => {\n    var processesArray = [...materialProcesses]; //Arra<obj>\n    var process = {\n      name: \"\",\n      ref: \"\",\n      description: \"\",\n      link: \"\"\n    };\n    if (processesArray[processesArray.length - 1].ref) {\n      processesArray.push(process);\n      setMaterialProcesses(processesArray);\n    } else {\n      //will not add Process\n    }\n  };\n\n  //variables\n  const componentClass = customClass ? \"DetailsArea \" + customClass : \"DetailsArea\"; //string\n  const difficultyOptions = [0, 1, 2, 3, 4]; //Array<number>\n\n  //Effects\n  //get tools list\n  useEffect(() => {\n    const getURL = \"http://localhost:5000/tools/\"; //string\n\n    axios.get(getURL).then(res => {\n      const resData = res.data; //Array<obj>\n\n      if (resData) {\n        setTools(resData);\n      }\n    });\n  }, []);\n\n  //get process List\n  useEffect(() => {\n    const getURL = \"http://localhost:5000/processes/\"; //string\n\n    axios.get(getURL).then(res => {\n      const resData = res.data; //Array<obj>\n\n      if (resData) {\n        setProcesses(resData);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: componentClass,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"descriptionContainer\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              ref: descriptionRef,\n              value: materialDescription,\n              placeholder: \"Enter a description\",\n              onChange: handleDescriptionChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Author(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: authorsRef,\n            className: \"authorContainer\",\n            children: [materialAuthors.map((author, key) => {\n              return /*#__PURE__*/_jsxDEV(\"input\", {\n                index: key,\n                type: \"text\",\n                value: author,\n                placeholder: \"Enter Author\",\n                onChange: handleAuthorChange\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 41\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                componentData: {\n                  class: \"\",\n                  copy: \"Add\",\n                  type: \"function\",\n                  link: \"\",\n                  function: handleAddAuthor\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"License\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"licenseContainer\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: licenseRef,\n              type: \"text\",\n              value: materialLicense,\n              placeholder: \"Enter License\",\n              onChange: handleDetailsChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Source(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: sourcesRef,\n            className: \"sourceContainer\",\n            children: [materialSources.map((source, key) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sourceInputs\",\n                index: key,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"name\",\n                  type: \"text\",\n                  value: source.name,\n                  placeholder: \"Enter Source Name\",\n                  onChange: handleSourceChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"source\",\n                  type: \"text\",\n                  value: source.source,\n                  placeholder: \"Enter Source Link\",\n                  onChange: handleSourceChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 45\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 41\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                componentData: {\n                  class: \"\",\n                  copy: \"Add\",\n                  type: \"function\",\n                  link: \"\",\n                  function: handleAddSource\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Difficulty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"difficultyContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: difficultyRef,\n              type: \"hidden\",\n              value: materialDifficulty,\n              onChange: handleDetailsChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 29\n            }, this), difficultyOptions.map((option, key) => {\n              const difficultyClassName = key === materialDifficulty ? \"difficultyButton active\" : \"difficultyButton\";\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                index: option,\n                className: difficultyClassName,\n                onClick: handleDifficultyChange,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 45\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 41\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Preperation Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prepTimeContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: prepTimeRef,\n              type: \"number\",\n              value: materialPrepTime,\n              onChange: handleDetailsChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Tools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toolsContainer\",\n            children: materialTools.map((materialTool, key) => {\n              return /*#__PURE__*/_jsxDEV(OptionInput, {\n                componentData: {\n                  optionIndex: key,\n                  item: materialTool,\n                  options: tools,\n                  updateSelectedOption: handleToolChange\n                }\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              componentData: {\n                class: \"\",\n                copy: \"Add\",\n                type: \"function\",\n                link: \"\",\n                function: handleAddTool\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Processes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"processesContainer\",\n            children: materialProcesses.map((materialProcess, key) => {\n              return /*#__PURE__*/_jsxDEV(OptionInput, {\n                componentData: {\n                  optionIndex: key,\n                  item: materialProcess,\n                  options: processes,\n                  updateSelectedOption: handleProcessChange\n                }\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              componentData: {\n                class: \"\",\n                copy: \"Add\",\n                type: \"function\",\n                link: \"\",\n                function: handleAddProcess\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 9\n  }, this);\n}\n_s(DetailsArea, \"hFxxmbmV+JzduqpGrfiO2R5+x5M=\");\n_c = DetailsArea;\nvar _c;\n$RefreshReg$(_c, \"DetailsArea\");","map":{"version":3,"names":["useEffect","useState","useRef","axios","materialDetailsDataStructure","Button","OptionInput","DetailsArea","props","customClass","componentData","details","updateDetails","materialDetails","setMaterialDetails","materialAuthors","setMaterialAuthors","authors","materialDescription","setMaterialDescription","description","materialLicense","setMaterialLicense","license","materialSources","setMaterialSources","sources","materialDifficulty","setMaterialDifficulty","difficulty","materialPrepTime","setMaterialPrepTime","prepTime","materialTools","setMaterialTools","tools","materialProcesses","setMaterialProcesses","processes","setTools","setProcesses","descriptionRef","authorsRef","licenseRef","sourcesRef","difficultyRef","prepTimeRef","getAuthors","authorInputArray","current","getElementsByTagName","newAuthors","a","length","inputvalue","value","push","getSources","sourcesNameInputArray","getElementsByClassName","sourcesSourceInputArray","newSources","nameValue","sourceValue","newSource","name","source","handleDetailsChange","newDetails","console","log","handleDescriptionChange","newDescription","handleAuthorChange","event","elmt","currentTarget","target","elmtValue","authorArray","elmtIndex","getAttribute","handleAddAuthor","handleSourceChange","elmtParent","parentElement","classList","contains","inputs","inputValues","sourceArray","handleAddSource","handleDifficultyChange","parseInt","handleToolChange","dataObj","dataIndex","index","newMaterialTools","newTool","ref","link","handleAddTool","toolsArray","tool","handleProcessChange","newMaterialProcesses","newProcess","handleAddProcess","processesArray","process","componentClass","difficultyOptions","getURL","get","then","res","resData","data","map","author","key","class","copy","type","function","option","difficultyClassName","materialTool","optionIndex","item","options","updateSelectedOption","materialProcess"],"sources":["C:/Users/dms_2/Documents/AddMustard-repos/MAT-repo/MAT/client/src/Areas/DetailsArea/DetailsArea.js"],"sourcesContent":["/*\r\n\tProject : Materiom\r\n\tAuthor(s) : David Charles - AddMustard\r\n*/\r\n\r\n//imports\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './DetailsArea.scss';\r\n\r\nimport { materialDetailsDataStructure } from \"../../DataStructures/material\";\r\nimport Button from '../../Components/Button/Button';\r\nimport OptionInput from '../../Components/OptionInput/OptionInput';\r\n\r\n//exports\r\nexport default function DetailsArea(props) {\r\n    //properties\r\n    const customClass = props.componentData.customClass; //string\r\n    const details = props.componentData.details || materialDetailsDataStructure; //obj\r\n    const updateDetails = props.componentData.updateDetails; //any\r\n\r\n    //states\r\n    var [materialDetails, setMaterialDetails] = useState(details); //obj\r\n    var [materialAuthors, setMaterialAuthors] = useState(materialDetails.authors) //Array<string>\r\n    var [materialDescription, setMaterialDescription] = useState(materialDetails.description); //string\r\n    var [materialLicense, setMaterialLicense] = useState(materialDetails.license); //string\r\n    var [materialSources, setMaterialSources] = useState(materialDetails.sources) //Array<string>\r\n    var [materialDifficulty, setMaterialDifficulty] = useState(materialDetails.difficulty) //number\r\n    var [materialPrepTime, setMaterialPrepTime] = useState(materialDetails.prepTime); //number\r\n    var [materialTools, setMaterialTools] = useState(materialDetails.tools); //Array<obj>\r\n    var [materialProcesses, setMaterialProcesses] = useState(materialDetails.processes) //Array<obj>\r\n\r\n    var [tools, setTools] = useState([]); //Array<obj>\r\n\tvar [processes, setProcesses] = useState([]); //Array<obj>\r\n\r\n    //refs\r\n\tconst descriptionRef = useRef(); //any\r\n    const authorsRef = useRef(); //any\r\n\tconst licenseRef = useRef(); //any\r\n    const sourcesRef = useRef(); //any\r\n    const difficultyRef = useRef(); //any\r\n\tconst prepTimeRef = useRef(); //any\r\n\r\n    //functions\r\n    const getAuthors = () => {\r\n        const authorInputArray = authorsRef.current.getElementsByTagName(\"INPUT\");\r\n        var newAuthors = [];\r\n\r\n        for (var a = 0; a < authorInputArray.length; a++) {\r\n            const inputvalue = authorInputArray[a].value;\r\n\r\n            newAuthors.push(inputvalue);\r\n        }\r\n\r\n        return newAuthors;\r\n    };\r\n    const getSources = () => {\r\n        const sourcesNameInputArray = sourcesRef.current.getElementsByClassName(\"name\");\r\n        const sourcesSourceInputArray = sourcesRef.current.getElementsByClassName(\"source\")\r\n        var newSources = [];\r\n\r\n        for (var a = 0; a < sourcesNameInputArray.length; a++) {\r\n            const nameValue = sourcesNameInputArray[a].value;\r\n            const sourceValue = sourcesSourceInputArray[a].value;\r\n            const newSource = {\r\n                name : nameValue,\r\n                source : sourceValue\r\n            };\r\n\r\n            newSources.push(newSource);\r\n        }\r\n\r\n        return newSources;\r\n    }\r\n    const handleDetailsChange = () => {\r\n\t\tvar newDetails = materialDetailsDataStructure;\r\n\r\n\t\tnewDetails.description = descriptionRef.current.value;\r\n\t\tnewDetails.authors = getAuthors();\r\n\t\tnewDetails.license = licenseRef.current.value;\r\n\t\tnewDetails.sources = getSources();\r\n\t\tnewDetails.difficulty = difficultyRef.current.value;\r\n\t\tnewDetails.prepTime = prepTimeRef.current.value;\r\n\t\tnewDetails.tools = materialTools;\r\n\t\tnewDetails.processes = materialProcesses;\r\n\r\n        console.log(newDetails)\r\n\r\n        if (true) { //font-end validation here\r\n            setMaterialDetails(newDetails);\r\n            //updateDetails(newDetails);\r\n\r\n        } else {\r\n            //validation error handler here\r\n        }\r\n\r\n\t};\r\n    const handleDescriptionChange = () => {\r\n        const newDescription = descriptionRef.current.value;\r\n\r\n        if (true) { //font-end validation here\r\n            const newDetails = materialDetails;\r\n    \r\n            newDetails.description = newDescription;\r\n\r\n            setMaterialDescription(newDescription);\r\n            setMaterialDetails(newDetails);\r\n            handleDetailsChange(newDetails);\r\n\r\n        } else {\r\n            //validation error handler here\r\n        }\r\n    };\r\n    const handleAuthorChange = (event) => {\r\n        const elmt = event.currentTarget || event.target;\r\n\r\n        if (elmt) {\t\t\t\r\n            const elmtValue = elmt.value; //string\r\n\r\n            if (true) { //font-end validation here\r\n                const authorArray = [...materialAuthors]; //Array<string>\r\n                const elmtIndex = elmt.getAttribute(\"index\"); //number\r\n                \r\n                authorArray[elmtIndex] = elmtValue;\r\n                //setMaterialAuthors(authorArray);\r\n\r\n            } else {\r\n                //validation error handler here\r\n            }\r\n        }\r\n    };\r\n    const handleAddAuthor = () => {\r\n        var authorArray = [...materialAuthors]; //Arra<string>\r\n\r\n        if (authorArray[authorArray.length - 1]) {\r\n            authorArray.push(\"\");\r\n            setMaterialAuthors(authorArray);\r\n\r\n        } else {\r\n            //will not add Author\r\n        }\r\n    };\r\n    // const handleLicenseChange = () => {\r\n    //     const newLicense = licenseRef.current.value;\r\n\r\n    //     if (true) { //font-end validation here\r\n    //         setMaterialLicense(newLicense);\r\n    //         handleDetailsChange();\r\n\r\n    //     } else {\r\n    //         //validation error handler here\r\n    //     }\r\n    // };\r\n    const handleSourceChange = (event) => {\r\n        const elmt = event.currentTarget || event.target;\r\n\r\n        if (elmt) {\t\t\r\n            const elmtParent = elmt.parentElement;\r\n            \r\n            if (elmtParent.classList.contains(\"sourceInputs\")) {\r\n                const inputs = elmtParent.getElementsByTagName(\"INPUT\");\r\n                const inputValues = { //obj\r\n                    name : inputs[0].value,\r\n                    source : inputs[1].value\r\n                };\r\n\r\n                if (true) { //font-end validation here\r\n                    const sourceArray = [...materialSources]; //Array<obj>\r\n                    const elmtIndex = elmtParent.getAttribute(\"index\"); //number\r\n                    \r\n                    sourceArray[elmtIndex] = inputValues;\r\n                    setMaterialSources(sourceArray);\r\n                    handleDetailsChange();\r\n\r\n                } else {\r\n                    //validation error handler here\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const handleAddSource = () => {\r\n        var sourceArray = [...materialSources]; //Arra<string>\r\n\r\n        if (sourceArray[sourceArray.length - 1].name && sourceArray[sourceArray.length - 1].source) {\r\n            sourceArray.push({ name : \"\", source : \"\" });\r\n            setMaterialSources(sourceArray);\r\n\r\n        } else {\r\n            //will not add Author\r\n        }\r\n    };\r\n    const handleDifficultyChange = (event) => {\r\n        const elmt = event.currentTarget || event.target; //any\r\n\r\n        if (elmt) {\r\n            const elmtIndex = parseInt(elmt.getAttribute(\"index\")); //number\r\n\r\n            if(true){ //handle validation here\r\n                setMaterialDifficulty(elmtIndex);\r\n\r\n            } else {\r\n                //do error function\r\n\r\n            }\r\n        }\r\n    };\r\n    // const handlePrepTimeChange = () => {\r\n    //     const newMaterialPrepTime = prepTimeRef.current.value;\r\n\r\n    //     if (true) { //font-end validation here\r\n    //         setMaterialPrepTime(newMaterialPrepTime);\r\n    //         handleDetailsChange();\r\n\r\n    //     } else {\r\n    //         //validation error handler here\r\n    //     }\r\n    // };\r\n    const handleToolChange = (dataObj) => {\r\n        if (dataObj) {\r\n            const dataIndex = dataObj.index;\r\n\r\n            if (materialTools[dataIndex]) {\r\n                const newMaterialTools = materialTools; //Array<obj>\r\n                const newTool = { //obj\r\n                    name : dataObj.name,\r\n                    ref : dataObj.ref,\r\n                    description : dataObj.description,\r\n                    link : dataObj.link\r\n                };\r\n\r\n                newMaterialTools[dataIndex] = newTool;\r\n\r\n                setMaterialTools(newMaterialTools);\r\n                handleDetailsChange();\r\n            }\r\n        }\r\n    };\r\n    const handleAddTool = () => {\r\n        var toolsArray = [...materialTools]; //Arra<obj>\r\n        var tool = {\r\n            name : \"\",\r\n            ref : \"\",\r\n            description : \"\",\r\n            link : \"\"\r\n        };\r\n\r\n        if (toolsArray[toolsArray.length - 1].ref) {\r\n            toolsArray.push(tool);\r\n\r\n            setMaterialTools(toolsArray);\r\n\r\n        } else {\r\n            //will not add Tool\r\n        }\r\n    };\r\n    const handleProcessChange = (dataObj) => {\r\n        if (dataObj) {\r\n            const dataIndex = dataObj.index;\r\n\r\n            if (materialProcesses[dataIndex]) {\r\n                const newMaterialProcesses = materialProcesses; //Array<obj>\r\n                const newProcess = { //obj\r\n                    name : dataObj.name,\r\n                    ref : dataObj.ref,\r\n                    description : dataObj.description,\r\n                    link : dataObj.link\r\n                };\r\n\r\n                newMaterialProcesses[dataIndex] = newProcess;\r\n\r\n                setMaterialProcesses(newMaterialProcesses);\r\n                handleDetailsChange();\r\n            }\r\n        }\r\n    };\r\n    const handleAddProcess = () => {\r\n        var processesArray = [...materialProcesses]; //Arra<obj>\r\n        var process = {\r\n            name : \"\",\r\n            ref : \"\",\r\n            description : \"\",\r\n            link : \"\"\r\n        };\r\n\r\n        if (processesArray[processesArray.length - 1].ref) {\r\n            processesArray.push(process);\r\n\r\n            setMaterialProcesses(processesArray);\r\n\r\n        } else {\r\n            //will not add Process\r\n        }\r\n    };\r\n\r\n    //variables\r\n    const componentClass = customClass ? \"DetailsArea \" + customClass : \"DetailsArea\"; //string\r\n    const difficultyOptions = [0, 1, 2, 3, 4]; //Array<number>\r\n\r\n    //Effects\r\n    //get tools list\r\n    useEffect(() => {\r\n        const getURL = \"http://localhost:5000/tools/\"; //string\r\n        \r\n        axios.get(getURL)\r\n            .then((res) => {\r\n                const resData = res.data; //Array<obj>\r\n\r\n                if (resData) {\r\n                    setTools(resData);\r\n\r\n                }\r\n            })\r\n    }, []);\r\n\r\n    //get process List\r\n    useEffect(() => {\r\n        const getURL = \"http://localhost:5000/processes/\"; //string\r\n\r\n        axios.get(getURL)\r\n            .then((res) => {\r\n                const resData = res.data; //Array<obj>\r\n\r\n                if (resData) {\r\n                    setProcesses(resData);\r\n\r\n                }\r\n            })\r\n    }, []);\r\n\r\n    return (\r\n        <div className={ componentClass }>\r\n            <div className=\"inner\">\r\n                <div>\r\n                    <div>\r\n                        <h6>Description</h6>\r\n\r\n                        <div className=\"descriptionContainer\">\r\n                            <textarea\r\n                                ref={ descriptionRef }\r\n                                value={ materialDescription }\r\n                                placeholder=\"Enter a description\"\r\n                                onChange={ handleDescriptionChange }\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Author(s)</h6>\r\n\r\n                        <div ref={ authorsRef } className=\"authorContainer\">\r\n                            {\r\n                                materialAuthors.map((author, key) => {\r\n                                    return (\r\n                                        <input\r\n                                            key={ key }\r\n                                            index={ key }\r\n                                            type=\"text\"\r\n                                            value={ author }\r\n                                            placeholder=\"Enter Author\"\r\n                                            onChange={ handleAuthorChange }\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                            <div>\r\n                                <Button componentData={{\r\n                                    class : \"\",\r\n                                    copy : \"Add\",\r\n                                    type : \"function\",\r\n                                    link : \"\",\r\n                                    function : handleAddAuthor\r\n                                } } />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>License</h6>\r\n\r\n                        <div className=\"licenseContainer\">\r\n                            <input\r\n                                ref={ licenseRef }\r\n                                type=\"text\"\r\n                                value={ materialLicense }\r\n                                placeholder=\"Enter License\"\r\n                                onChange={ handleDetailsChange }\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Source(s)</h6>\r\n\r\n                        <div ref={ sourcesRef } className=\"sourceContainer\">\r\n                            {\r\n                                materialSources.map((source, key) => {\r\n                                    return (\r\n                                        <div className=\"sourceInputs\" key={ key } index={ key }>\r\n                                            <input\r\n                                                className='name'\r\n                                                type=\"text\"\r\n                                                value={ source.name }\r\n                                                placeholder=\"Enter Source Name\"\r\n                                                onChange={ handleSourceChange }\r\n                                            />\r\n\r\n                                            <input\r\n                                                className='source'\r\n                                                type=\"text\"\r\n                                                value={ source.source }\r\n                                                placeholder=\"Enter Source Link\"\r\n                                                onChange={ handleSourceChange }\r\n                                            />\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                            <div>\r\n                                <Button componentData={{\r\n                                    class : \"\",\r\n                                    copy : \"Add\",\r\n                                    type : \"function\",\r\n                                    link : \"\",\r\n                                    function : handleAddSource\r\n                                } } />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>   \r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Difficulty</h6>\r\n\r\n                        <div className=\"difficultyContainer\">\r\n                            <input ref={ difficultyRef } type=\"hidden\" value={ materialDifficulty } onChange={ handleDetailsChange } />\r\n                            {\r\n                                difficultyOptions.map((option, key) => {\r\n                                    const difficultyClassName = key === materialDifficulty ? \"difficultyButton active\" : \"difficultyButton\";\r\n\r\n                                    return (\r\n                                        <div key={ key } index={ option } className={ difficultyClassName } onClick={ handleDifficultyChange }>\r\n                                            <div className=\"inner\" />\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Preperation Time</h6>\r\n\r\n                        <div className=\"prepTimeContainer\">\r\n                            <input\r\n                                ref={ prepTimeRef }\r\n                                type=\"number\"\r\n                                value={ materialPrepTime }\r\n                                onChange={ handleDetailsChange }\r\n                            />\r\n                            <p>Minutes</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Tools</h6>\r\n\r\n                        <div className=\"toolsContainer\">\r\n                            {\r\n                                materialTools.map((materialTool, key) => {\r\n                                    return (\r\n                                        <OptionInput key={ key } componentData={{\r\n                                            optionIndex : key, \r\n                                            item : materialTool,\r\n                                            options : tools,\r\n                                            updateSelectedOption : handleToolChange\r\n                                        }} />\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Button componentData={{\r\n                                class : \"\",\r\n                                copy : \"Add\",\r\n                                type : \"function\",\r\n                                link : \"\",\r\n                                function : handleAddTool\r\n                            } } />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div>\r\n                        <h6>Processes</h6>\r\n\r\n                        <div className=\"processesContainer\">\r\n                            {\r\n                                materialProcesses.map((materialProcess, key) => {\r\n                                    return (\r\n                                        <OptionInput key={ key } componentData={{\r\n                                            optionIndex : key, \r\n                                            item : materialProcess,\r\n                                            options : processes,\r\n                                            updateSelectedOption : handleProcessChange\r\n                                        }} />\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Button componentData={{\r\n                                class : \"\",\r\n                                copy : \"Add\",\r\n                                type : \"function\",\r\n                                link : \"\",\r\n                                function : handleAddProcess\r\n                            } } />\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}