{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dms_2\\\\Documents\\\\AddMustard-repos\\\\MAT-1\\\\client\\\\src\\\\Pages\\\\MaterialFork\\\\MaterialFork.js\",\n  _s = $RefreshSig$();\n/*\r\n\tProject : Materiom\r\n\tAuthor(s) : David Charles - AddMustard\r\n*/\nimport { Link, useSearchParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport './MaterialFork.scss';\nimport { useEffect, useState } from \"react\";\nimport Grid from \"../../Components/Grid/Grid\";\n\n//exports\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MaterialFork(props) {\n  _s();\n  //properties\n\n  //states\n  var [searchParams, setSearchParams] = useSearchParams();\n  var [materials, setMaterials] = useState([]); //Array<obj>\n  var [materialName, setmaterialName] = useState(\"\"); //sting\n  var [materialRef, setMaterialRef] = useState(\"\"); //string\n  var [materialCreatorUserName, setMaterialCreatorUserName] = useState(\"\"); //string\n  var [materialPublished, setMaterialPublished] = useState(false); //bool\n  var [materialAuthors, setMaterialAuthors] = useState([]); //Array<string>\n\n  //refs\n\n  //functions\n  const navigate = useNavigate();\n  const test = event => {\n    const elmt = event.currentTarget || event.target;\n    const elmtRef = elmt.getAttribute(\"materialref\");\n    axios.get(\"http://localhost:5000/materials/findByRef/\" + elmtRef).then(res => {\n      const resData = res.data[0];\n      var newAuthors = materialAuthors;\n      for (var a = 0; a < resData.materialAuthors.length; a++) {\n        if (newAuthors.indexOf(resData.materialAuthors[a]) === -1) {\n          newAuthors.push(resData.materialAuthors[a]);\n        }\n      }\n      setMaterialAuthors(newAuthors);\n      const navigationTo = \"/materials/edit/?materialRef=\" + materialRef; //string\n      const data = {\n        //obj\n        materialName: materialName,\n        materialRef: materialRef,\n        materialCreatorUserName: materialCreatorUserName,\n        materialPublished: materialPublished,\n        materialAuthors: materialAuthors\n      };\n      axios.post(\"http://localhost:5000/materials/update\" + MaterialRef, data).then(res => {\n        console.log(\"success\");\n      });\n      navigate(navigationTo);\n    });\n  };\n\n  //variables\n  const MaterialRef = searchParams.get(\"materialRef\");\n\n  //Effects\n\n  //get materials\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/materials/\").then(res => {\n      setMaterials(res.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/materials/findByRef/\" + MaterialRef).then(res => {\n      const resData = res.data[0];\n      setmaterialName(resData.materialName);\n      setMaterialRef(resData.materialRef);\n      setMaterialCreatorUserName(resData.materialCreatorUserName);\n      setMaterialAuthors(resData.materialAuthors);\n    });\n  }, [MaterialRef]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"MaterialFork\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        componentData: {\n          customClass: \"\",\n          numberOfColumns: 4\n        },\n        children: materials.map((material, key_1) => {\n          if (MaterialRef === material.materialRef) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              style: {\n                display: \"non\"\n              }\n            }, key_1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 40\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inner\",\n                materialref: material.materialRef,\n                onClick: test\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/materials/edit/?materialRef=\" + MaterialRef + \"&forkRef=\" + material.materialRef,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: material.materialName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: material.materialRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: material.materialAuthors.map((author, key_2) => {\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: author\n                    }, key_2, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 61\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 41\n              }, this)]\n            }, key_1, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 37\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 3\n  }, this);\n}\n_s(MaterialFork, \"H7uzMDSXBzWcWFd5/bm00pbr6tE=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = MaterialFork;\nvar _c;\n$RefreshReg$(_c, \"MaterialFork\");","map":{"version":3,"names":["Link","useSearchParams","useNavigate","axios","useEffect","useState","Grid","MaterialFork","props","searchParams","setSearchParams","materials","setMaterials","materialName","setmaterialName","materialRef","setMaterialRef","materialCreatorUserName","setMaterialCreatorUserName","materialPublished","setMaterialPublished","materialAuthors","setMaterialAuthors","navigate","test","event","elmt","currentTarget","target","elmtRef","getAttribute","get","then","res","resData","data","newAuthors","a","length","indexOf","push","navigationTo","post","MaterialRef","console","log","customClass","numberOfColumns","map","material","key_1","display","author","key_2"],"sources":["C:/Users/dms_2/Documents/AddMustard-repos/MAT-1/client/src/Pages/MaterialFork/MaterialFork.js"],"sourcesContent":["/*\r\n\tProject : Materiom\r\n\tAuthor(s) : David Charles - AddMustard\r\n*/\r\nimport { Link, useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport './MaterialFork.scss';\r\nimport { useEffect, useState } from \"react\";\r\nimport Grid from \"../../Components/Grid/Grid\";\r\n\r\n//exports\r\nexport default function MaterialFork(props) {\r\n\t//properties\r\n\r\n\t//states\r\n    var [searchParams, setSearchParams] = useSearchParams();\r\n\tvar [materials, setMaterials] = useState([]); //Array<obj>\r\n    var [materialName, setmaterialName] = useState(\"\"); //sting\r\n    var [materialRef, setMaterialRef] = useState(\"\"); //string\r\n\tvar [materialCreatorUserName, setMaterialCreatorUserName] = useState(\"\"); //string\r\n\tvar [materialPublished, setMaterialPublished] = useState(false); //bool\r\n\tvar [materialAuthors, setMaterialAuthors] = useState([]) //Array<string>\r\n\r\n\t//refs\r\n\r\n\t//functions\r\n    const navigate = useNavigate();\r\n    const test = (event) => {\r\n        const elmt = event.currentTarget || event.target;\r\n        const elmtRef = elmt.getAttribute(\"materialref\");\r\n\r\n        axios.get(\"http://localhost:5000/materials/findByRef/\" + elmtRef)\r\n            .then((res) => {\r\n                const resData = res.data[0];\r\n                var newAuthors = materialAuthors;\r\n\r\n                for (var a = 0; a < resData.materialAuthors.length; a++) {\r\n                    if (newAuthors.indexOf(resData.materialAuthors[a]) === -1) {\r\n                        newAuthors.push(resData.materialAuthors[a]);\r\n\r\n                    }\r\n                }\r\n\r\n                setMaterialAuthors(newAuthors);\r\n\r\n                const navigationTo = \"/materials/edit/?materialRef=\" + materialRef; //string\r\n                const data = { //obj\r\n                    materialName : materialName,\r\n                    materialRef : materialRef,\r\n                    materialCreatorUserName : materialCreatorUserName,\r\n                    materialPublished : materialPublished,\r\n                    materialAuthors : materialAuthors\r\n                };\r\n\r\n                axios.post(\"http://localhost:5000/materials/update\" + MaterialRef, data)\r\n                    .then((res) => { console.log(\"success\"); });\r\n                \r\n                navigate(navigationTo);\r\n            });\r\n    };\r\n\r\n\t//variables\r\n    const MaterialRef = searchParams.get(\"materialRef\");\r\n\r\n\t//Effects\r\n\r\n\t//get materials\r\n\tuseEffect(() => {\r\n\t\taxios.get(\"http://localhost:5000/materials/\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetMaterials(res.data);\r\n\r\n\t\t\t})\r\n\t}, []);\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/materials/findByRef/\" + MaterialRef)\r\n            .then((res) => {\r\n                const resData = res.data[0];\r\n\r\n                setmaterialName(resData.materialName);\r\n                setMaterialRef(resData.materialRef);\r\n                setMaterialCreatorUserName(resData.materialCreatorUserName);\r\n                setMaterialAuthors(resData.materialAuthors);\r\n            });\r\n\t}, [MaterialRef]);\r\n\r\n\treturn (\r\n\t\t<div className=\"MaterialFork\"> \r\n            <div className=\"inner\">\r\n                <Grid componentData={ { customClass : \"\", numberOfColumns : 4 } }>\r\n                    {\r\n                        materials.map((material, key_1) => {\r\n                            if (MaterialRef ===  material.materialRef) {\r\n                                return <div key={ key_1 } className=\"item\" style={ { display: \"non\" } }/>\r\n\r\n                            } else {\r\n                                return (\r\n                                    <div key={ key_1 } className=\"item\">\r\n                                        <div className=\"inner\" materialref={ material.materialRef } onClick={ test } />\r\n                                        <Link to={ \"/materials/edit/?materialRef=\" + MaterialRef + \"&forkRef=\" + material.materialRef } >\r\n                                            <p>{ material.materialName }</p>\r\n\r\n                                            <p>{ material.materialRef }</p>\r\n\r\n                                            <p>\r\n                                                {\r\n                                                    material.materialAuthors.map((author, key_2) => {\r\n                                                        return (\r\n                                                            <span key={ key_2 }>{ author }</span>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </p>\r\n                                        </Link>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                </Grid>\r\n            </div>\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}